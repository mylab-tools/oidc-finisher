server {
 
    listen 80;
    server_name default;

    root /etc/oidc-mock/responses;

    location / {

        return 200 'oidc-mock';

    }

    location = /oidc/token {

        default_type application/json;
        return 200 '{"access_token": "SlAV32hkKG","token_type": "Bearer","refresh_token": "8xLOxBtZp8","expires_in": 3600,"id_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"}';

    }

    location = /app/accept/ {

        default_type application/json;
        return 200 '{"accept": true,"addHeaders": {"X-Foo": "bar"}}';

    }

    location = /app/reject/ {

        default_type application/json;
        return 200 '{"accept": false,"rejectionReason": "test reason"}';

    }

}